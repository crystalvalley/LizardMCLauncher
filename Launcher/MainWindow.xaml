<Window x:Class="Launcher.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:local="clr-namespace:Launcher"
        mc:Ignorable="d"
        Title="LizardMC Launcher"
        Icon="lizardmclauncher.png"
        Height="600" Width="900"
        WindowStyle="None"
        ResizeMode="CanMinimize"
        WindowStartupLocation="CenterScreen"
        Background="{StaticResource BackgroundBrush}">

    <Border BorderBrush="{StaticResource BorderBrush}" BorderThickness="1" CornerRadius="0">
        <Grid>
            <Grid.RowDefinitions>
                <RowDefinition Height="32"/>
                <RowDefinition Height="*"/>
            </Grid.RowDefinitions>

            <!-- Custom Title Bar -->
            <Grid Grid.Row="0" Background="{StaticResource SurfaceBrush}" MouseLeftButtonDown="TitleBar_MouseLeftButtonDown">
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="*"/>
                    <ColumnDefinition Width="Auto"/>
                </Grid.ColumnDefinitions>

                <TextBlock Grid.Column="0" Text="LizardMC Launcher"
                           Foreground="{StaticResource TextSecondaryBrush}"
                           VerticalAlignment="Center" Margin="12,0"
                           FontSize="12"/>

                <StackPanel Grid.Column="1" Orientation="Horizontal">
                    <Button Content="&#x2015;" Style="{StaticResource TitleBarButtonStyle}"
                            Click="MinimizeButton_Click"/>
                    <Button Content="&#x2715;" Style="{StaticResource CloseButtonStyle}"
                            Click="CloseButton_Click"/>
                </StackPanel>
            </Grid>

            <!-- Main Content -->
            <Grid Grid.Row="1">
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="200"/>
                    <ColumnDefinition Width="*"/>
                </Grid.ColumnDefinitions>

                <!-- Left Navigation Panel -->
                <Border Grid.Column="0" Background="{StaticResource SurfaceBrush}"
                        BorderBrush="{StaticResource BorderBrush}" BorderThickness="0,0,1,0">
                    <DockPanel>
                        <!-- Logo Area -->
                        <StackPanel DockPanel.Dock="Top" Margin="16,20,16,24">
                            <TextBlock Text="LizardMC" FontSize="22" FontWeight="Bold"
                                       Foreground="{StaticResource AccentBrush}"/>
                            <TextBlock Text="마인크래프트 런처" FontSize="11"
                                       Foreground="{StaticResource TextSecondaryBrush}" Margin="0,2,0,0"/>
                        </StackPanel>

                        <!-- Navigation Buttons -->
                        <StackPanel DockPanel.Dock="Top" Margin="8,0">
                            <Button x:Name="NavHome" Content="&#x25B6;  홈"
                                    Style="{StaticResource NavButtonActiveStyle}"
                                    Click="NavHome_Click"/>
                            <Button x:Name="NavSettings" Content="&#x2699;  설정"
                                    Style="{StaticResource NavButtonStyle}"
                                    Click="NavSettings_Click"/>
                            <Button x:Name="NavAbout" Content="&#x2139;  정보"
                                    Style="{StaticResource NavButtonStyle}"
                                    Click="NavAbout_Click"/>
                        </StackPanel>

                        <!-- Player Profile + Version at bottom -->
                        <StackPanel DockPanel.Dock="Bottom" Margin="12,0,12,12"
                                    VerticalAlignment="Bottom">
                            <Border Background="{StaticResource SurfaceLightBrush}"
                                    CornerRadius="8" Padding="12,10" Margin="0,0,0,8">
                                <StackPanel>
                                    <StackPanel HorizontalAlignment="Center" Margin="0,0,0,8">
                                        <TextBlock x:Name="PlayerNameText" Text="로그인 필요"
                                                   FontSize="13" FontWeight="SemiBold"
                                                   Foreground="{StaticResource TextPrimaryBrush}"
                                                   HorizontalAlignment="Center"/>
                                        <TextBlock x:Name="PlayerStatusText" Text="클릭하여 로그인"
                                                   FontSize="10" Foreground="{StaticResource TextSecondaryBrush}"
                                                   Margin="0,2,0,0"
                                                   HorizontalAlignment="Center"/>
                                    </StackPanel>

                                    <Button x:Name="LoginButton"
                                            Content="로그인"
                                            Style="{StaticResource PrimaryButtonStyle}"
                                            FontSize="12" Padding="12,6"
                                            HorizontalAlignment="Stretch"
                                            Click="LoginButton_Click"/>
                                </StackPanel>
                            </Border>

                            <TextBlock x:Name="AppVersionText"
                                       Foreground="{StaticResource TextSecondaryBrush}"
                                       FontSize="10" HorizontalAlignment="Center"/>
                        </StackPanel>
                    </DockPanel>
                </Border>

                <!-- Right Content Area -->
                <Grid Grid.Column="1" Margin="32,24">

                    <!-- Home Tab -->
                    <Grid x:Name="HomeTab" Visibility="Visible">
                        <Grid.RowDefinitions>
                            <RowDefinition Height="Auto"/>
                            <RowDefinition Height="*"/>
                            <RowDefinition Height="Auto"/>
                        </Grid.RowDefinitions>

                        <!-- Header -->
                        <StackPanel Grid.Row="0">
                            <TextBlock Text="홈" FontSize="28" FontWeight="Bold"
                                       Foreground="{StaticResource TextPrimaryBrush}"/>
                            <TextBlock Text="LizardMC 소식과 공지사항"
                                       Foreground="{StaticResource TextSecondaryBrush}"
                                       FontSize="13" Margin="0,4,0,0"/>
                        </StackPanel>

                        <!-- Notice Board -->
                        <ScrollViewer Grid.Row="1" Margin="0,20,0,0"
                                      VerticalScrollBarVisibility="Auto">
                            <StackPanel x:Name="NoticeBoardPanel">
                                <!-- Update Banner -->
                                <Border x:Name="UpdateBanner" Background="#2D3A2D"
                                        CornerRadius="8" Padding="16" Margin="0,0,0,12"
                                        Visibility="Collapsed">
                                    <Grid>
                                        <Grid.ColumnDefinitions>
                                            <ColumnDefinition Width="*"/>
                                            <ColumnDefinition Width="Auto"/>
                                        </Grid.ColumnDefinitions>

                                        <StackPanel Grid.Column="0">
                                            <TextBlock x:Name="UpdateTitleText" Text="새 업데이트 사용 가능"
                                                       FontSize="14" FontWeight="SemiBold"
                                                       Foreground="{StaticResource AccentBrush}"/>
                                            <TextBlock x:Name="UpdateDetailText" Text=""
                                                       FontSize="12" Foreground="{StaticResource TextSecondaryBrush}"
                                                       Margin="0,4,0,0" TextWrapping="Wrap"/>
                                        </StackPanel>

                                        <Button x:Name="UpdateButton" Grid.Column="1" Content="업데이트"
                                                Style="{StaticResource PrimaryButtonStyle}"
                                                Padding="16,8" VerticalAlignment="Center"
                                                Click="UpdateButton_Click"/>
                                    </Grid>
                                </Border>

                                <!-- Notices loaded dynamically -->
                            </StackPanel>
                        </ScrollViewer>

                        <!-- Play Area -->
                        <StackPanel Grid.Row="2" Margin="0,16,0,0">
                            <CheckBox x:Name="ForceResyncCheckBox"
                                      Content="모드 파일 강제 재동기화"
                                      Foreground="{StaticResource TextSecondaryBrush}" FontSize="12"
                                      Margin="0,0,0,8"/>

                            <Button x:Name="PlayButton" Content="&#x25B6;  플레이"
                                    Style="{StaticResource PrimaryButtonStyle}"
                                    Height="52" Padding="40,0"
                                    HorizontalAlignment="Stretch"
                                    IsEnabled="False"
                                    Click="PlayButton_Click"/>
                        </StackPanel>
                    </Grid>

                    <!-- Settings Tab -->
                    <Grid x:Name="SettingsTab" Visibility="Collapsed">
                        <Grid.RowDefinitions>
                            <RowDefinition Height="Auto"/>
                            <RowDefinition Height="*"/>
                            <RowDefinition Height="Auto"/>
                        </Grid.RowDefinitions>

                        <StackPanel Grid.Row="0">
                            <TextBlock Text="설정" FontSize="28" FontWeight="Bold"
                                       Foreground="{StaticResource TextPrimaryBrush}"/>
                            <TextBlock Text="런처 설정을 변경합니다"
                                       Foreground="{StaticResource TextSecondaryBrush}"
                                       FontSize="13" Margin="0,4,0,0"/>
                        </StackPanel>

                        <ScrollViewer Grid.Row="1" Margin="0,24,0,0"
                                      VerticalScrollBarVisibility="Auto">
                            <StackPanel>
                                <!-- Memory Settings -->
                                <Border Background="{StaticResource SurfaceBrush}"
                                        CornerRadius="10" Padding="24" Margin="0,0,0,16">
                                    <StackPanel>
                                        <TextBlock Text="메모리 할당" FontSize="16" FontWeight="SemiBold"
                                                   Foreground="{StaticResource TextPrimaryBrush}" Margin="0,0,0,12"/>

                                        <TextBlock Foreground="{StaticResource TextSecondaryBrush}" FontSize="13"
                                                   Margin="0,0,0,8">
                                            <Run Text="할당 RAM: "/>
                                            <Run x:Name="MemoryValueText" Text="4"/>
                                            <Run Text=" GB"/>
                                        </TextBlock>

                                        <Slider x:Name="MemorySlider" Minimum="2" Maximum="64"
                                                Value="4" TickFrequency="1" IsSnapToTickEnabled="True"
                                                Style="{StaticResource DarkSliderStyle}"
                                                ValueChanged="MemorySlider_ValueChanged"/>

                                        <Grid Margin="0,4,0,0">
                                            <TextBlock Text="2 GB" HorizontalAlignment="Left"
                                                       Foreground="{StaticResource TextSecondaryBrush}" FontSize="11"/>
                                            <TextBlock Text="64 GB" HorizontalAlignment="Right"
                                                       Foreground="{StaticResource TextSecondaryBrush}" FontSize="11"/>
                                        </Grid>
                                    </StackPanel>
                                </Border>

                                <!-- Game Directory -->
                                <Border Background="{StaticResource SurfaceBrush}"
                                        CornerRadius="10" Padding="24" Margin="0,0,0,16">
                                    <StackPanel>
                                        <TextBlock Text="게임 디렉토리" FontSize="16" FontWeight="SemiBold"
                                                   Foreground="{StaticResource TextPrimaryBrush}" Margin="0,0,0,12"/>

                                        <Grid>
                                            <Grid.ColumnDefinitions>
                                                <ColumnDefinition Width="*"/>
                                                <ColumnDefinition Width="Auto"/>
                                            </Grid.ColumnDefinitions>

                                            <TextBox x:Name="GameDirTextBox"
                                                     Style="{StaticResource DarkTextBoxStyle}"
                                                     IsReadOnly="True" Margin="0,0,8,0"/>

                                            <Button Grid.Column="1" Content="찾아보기"
                                                    Style="{StaticResource PrimaryButtonStyle}"
                                                    Padding="16,8" Click="BrowseButton_Click"/>
                                        </Grid>
                                    </StackPanel>
                                </Border>

                                <!-- Java Settings -->
                                <Border Background="{StaticResource SurfaceBrush}"
                                        CornerRadius="10" Padding="24" Margin="0,0,0,16">
                                    <StackPanel>
                                        <TextBlock Text="Java 설정" FontSize="16" FontWeight="SemiBold"
                                                   Foreground="{StaticResource TextPrimaryBrush}" Margin="0,0,0,12"/>

                                        <RadioButton x:Name="JavaSystemRadio" Content="기본 Java 사용"
                                                     Foreground="{StaticResource TextPrimaryBrush}" FontSize="13"
                                                     IsChecked="True" Margin="0,0,0,8" GroupName="JavaMode"
                                                     Checked="JavaModeRadio_Changed"/>
                                        <RadioButton x:Name="JavaCustomRadio" Content="직접 경로 지정"
                                                     Foreground="{StaticResource TextPrimaryBrush}" FontSize="13"
                                                     Margin="0,0,0,8" GroupName="JavaMode"
                                                     Checked="JavaModeRadio_Changed"/>

                                        <Grid x:Name="JavaCustomPathPanel" Visibility="Collapsed">
                                            <Grid.ColumnDefinitions>
                                                <ColumnDefinition Width="*"/>
                                                <ColumnDefinition Width="Auto"/>
                                            </Grid.ColumnDefinitions>

                                            <TextBox x:Name="JavaPathTextBox"
                                                     Style="{StaticResource DarkTextBoxStyle}"
                                                     IsReadOnly="True" Margin="0,0,8,0"/>

                                            <Button Grid.Column="1" Content="찾아보기"
                                                    Style="{StaticResource PrimaryButtonStyle}"
                                                    Padding="16,8" Click="BrowseJavaButton_Click"/>
                                        </Grid>

                                        <TextBlock Text="JVM 인수" FontSize="13"
                                                   Foreground="{StaticResource TextSecondaryBrush}" Margin="0,16,0,6"/>
                                        <TextBox x:Name="JvmArgsTextBox"
                                                 Style="{StaticResource DarkTextBoxStyle}"
                                                 Text="-XX:+UseG1GC"/>
                                    </StackPanel>
                                </Border>

                                <!-- Game Window Settings -->
                                <Border Background="{StaticResource SurfaceBrush}"
                                        CornerRadius="10" Padding="24" Margin="0,0,0,16">
                                    <StackPanel>
                                        <TextBlock Text="게임 창" FontSize="16" FontWeight="SemiBold"
                                                   Foreground="{StaticResource TextPrimaryBrush}" Margin="0,0,0,12"/>

                                        <CheckBox x:Name="FullScreenCheckBox" Content="전체화면"
                                                  Foreground="{StaticResource TextPrimaryBrush}" FontSize="13"
                                                  Margin="0,0,0,12"
                                                  Checked="FullScreenCheckBox_Changed"
                                                  Unchecked="FullScreenCheckBox_Changed"/>

                                        <StackPanel x:Name="ResolutionPanel">
                                            <TextBlock Text="해상도" FontSize="13"
                                                       Foreground="{StaticResource TextSecondaryBrush}" Margin="0,0,0,6"/>
                                            <Grid>
                                                <Grid.ColumnDefinitions>
                                                    <ColumnDefinition Width="*"/>
                                                    <ColumnDefinition Width="Auto"/>
                                                    <ColumnDefinition Width="*"/>
                                                </Grid.ColumnDefinitions>

                                                <TextBox x:Name="ScreenWidthTextBox"
                                                         Style="{StaticResource DarkTextBoxStyle}"
                                                         Text="854"
                                                         TextChanged="ScreenWidthTextBox_TextChanged"/>

                                                <TextBlock Grid.Column="1" Text="x"
                                                           Foreground="{StaticResource TextSecondaryBrush}"
                                                           VerticalAlignment="Center" Margin="8,0"
                                                           FontSize="14"/>

                                                <TextBox x:Name="ScreenHeightTextBox" Grid.Column="2"
                                                         Style="{StaticResource DarkTextBoxStyle}"
                                                         Text="480"
                                                         TextChanged="ScreenHeightTextBox_TextChanged"/>
                                            </Grid>
                                        </StackPanel>
                                    </StackPanel>
                                </Border>

                                <!-- Server Auto-Connect Settings -->
                                <Border Background="{StaticResource SurfaceBrush}"
                                        CornerRadius="10" Padding="24">
                                    <StackPanel>
                                        <TextBlock Text="서버 자동 접속" FontSize="16" FontWeight="SemiBold"
                                                   Foreground="{StaticResource TextPrimaryBrush}" Margin="0,0,0,12"/>

                                        <CheckBox x:Name="AutoConnectCheckBox" Content="실행 시 서버에 자동 접속"
                                                  Foreground="{StaticResource TextPrimaryBrush}" FontSize="13"
                                                  Margin="0,0,0,12"
                                                  Checked="AutoConnectCheckBox_Changed"
                                                  Unchecked="AutoConnectCheckBox_Changed"/>

                                        <StackPanel x:Name="ServerSettingsPanel" Visibility="Collapsed">
                                            <TextBlock Text="서버 주소" FontSize="13"
                                                       Foreground="{StaticResource TextSecondaryBrush}" Margin="0,0,0,6"/>
                                            <TextBox x:Name="ServerAddressTextBox"
                                                     Style="{StaticResource DarkTextBoxStyle}"
                                                     Margin="0,0,0,12"
                                                     TextChanged="ServerAddressTextBox_TextChanged"/>

                                            <TextBlock Text="서버 포트" FontSize="13"
                                                       Foreground="{StaticResource TextSecondaryBrush}" Margin="0,0,0,6"/>
                                            <TextBox x:Name="ServerPortTextBox"
                                                     Style="{StaticResource DarkTextBoxStyle}"
                                                     TextChanged="ServerPortTextBox_TextChanged"/>
                                        </StackPanel>
                                    </StackPanel>
                                </Border>
                            </StackPanel>
                        </ScrollViewer>

                        <Button x:Name="SaveSettingsButton" Grid.Row="2"
                                Content="설정 저장"
                                Style="{StaticResource PrimaryButtonStyle}"
                                Height="42" Padding="32,0"
                                HorizontalAlignment="Right" Margin="0,16,0,0"
                                Click="SaveSettingsButton_Click"/>
                    </Grid>

                    <!-- About Tab -->
                    <Grid x:Name="AboutTab" Visibility="Collapsed">
                        <Grid.RowDefinitions>
                            <RowDefinition Height="Auto"/>
                            <RowDefinition Height="*"/>
                        </Grid.RowDefinitions>

                        <StackPanel Grid.Row="0">
                            <TextBlock Text="정보" FontSize="28" FontWeight="Bold"
                                       Foreground="{StaticResource TextPrimaryBrush}"/>
                            <TextBlock Text="LizardMC Launcher 정보"
                                       Foreground="{StaticResource TextSecondaryBrush}"
                                       FontSize="13" Margin="0,4,0,0"/>
                        </StackPanel>

                        <Border Grid.Row="1" Background="{StaticResource SurfaceBrush}"
                                CornerRadius="10" Padding="24" Margin="0,24,0,0"
                                VerticalAlignment="Top">
                            <StackPanel>
                                <TextBlock Text="LizardMC Launcher" FontSize="22" FontWeight="Bold"
                                           Foreground="{StaticResource AccentBrush}" Margin="0,0,0,8"/>

                                <TextBlock Text="버전 1.0.0" FontSize="14"
                                           Foreground="{StaticResource TextSecondaryBrush}" Margin="0,0,0,20"/>

                                <Border Height="1" Background="{StaticResource BorderBrush}" Margin="0,0,0,20"/>

                                <TextBlock Text="개발" FontSize="13"
                                           Foreground="{StaticResource TextSecondaryBrush}" Margin="0,0,0,4"/>
                                <TextBlock Text="CrystalValley" FontSize="16"
                                           Foreground="{StaticResource TextPrimaryBrush}" Margin="0,0,0,16"/>

                                <TextBlock Text="설명" FontSize="13"
                                           Foreground="{StaticResource TextSecondaryBrush}" Margin="0,0,0,4"/>
                                <TextBlock Text="도마뱀 컴퍼니 마인크래프트 서버용 런처"
                                           FontSize="14" Foreground="{StaticResource TextPrimaryBrush}"
                                           TextWrapping="Wrap" Margin="0,0,0,16"/>

                                <TextBlock Text="라이선스" FontSize="13"
                                           Foreground="{StaticResource TextSecondaryBrush}" Margin="0,0,0,4"/>
                                <TextBlock Text="MIT License" FontSize="14"
                                           Foreground="{StaticResource TextPrimaryBrush}"/>
                            </StackPanel>
                        </Border>
                    </Grid>
                </Grid>
            </Grid>
        </Grid>
    </Border>
</Window>
